---
import AppLayout from "./AppLayout.astro";
import FormattedDate from "../components/FormattedDate.astro";

// BlogPost 会从页面把这些 props 传进来
const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<AppLayout title={title} description={description}>
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">{title}</h1>

      <div class="post-meta">
        <span>发布于 <FormattedDate date={pubDate} /></span>
        {updatedDate && (
          <span class="updated">
            · 更新于 <FormattedDate date={updatedDate} />
          </span>
        )}
      </div>

      {heroImage && (
        <img class="hero" src={heroImage.src} alt={title} loading="eager" />
      )}
    </header>

    <div class="post-content">
      <slot />
    </div>
  </article>
</AppLayout>

<style>
  .post {
    max-width: 72ch;
    margin: 0 auto;
    padding: 2.5rem 1.25rem;
  }

  .post-title {
    font-size: 2rem;
    line-height: 1.2;
    margin: 0;
  }

  .post-meta {
    margin-top: 0.75rem;
    opacity: 0.75;
    font-size: 0.95rem;
  }

  .hero {
    margin-top: 1.25rem;
    width: 100%;
    height: auto;
    border-radius: 16px;
  }

  .post-content {
    margin-top: 2rem;
  }
</style>
