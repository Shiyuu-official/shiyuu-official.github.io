---
// src/components/Sidebar.astro
import avatarUrl from "../assets/my head.jpg"; 
const pathname = Astro.url.pathname;
const isActive = (href) =>
  pathname === href || (href !== "/blog" && pathname.startsWith(`${href}/`));
---

<div class="sidebar-container">
  
  <div class="glass-card profile">
    <div class="avatar-wrapper">
      <img src={avatarUrl.src} alt="å¤´åƒ" class="avatar" />
    </div>
    <h2 class="name">Shiyuu</h2>
    <p class="bio">å˜¤å˜¤å˜¤.</p>
    

  </div>

  <div class="glass-card menu">
    <a href="/blog" class={`menu-item ${isActive("/blog") ? "active" : ""}`}>
      <span class="icon">ğŸ“š</span> 
      <span class="text">å…¨éƒ¨æ–‡ç« </span>
    </a>
    <a href="/blog/summary" class={`menu-item ${isActive("/blog/summary") ? "active" : ""}`}>
      <span class="icon">ğŸ“</span> 
      <span class="text">æ€»ç»“</span>
    </a>
    <a href="/blog/talk" class={`menu-item ${isActive("/blog/talk") ? "active" : ""}`}>
      <span class="icon">ğŸ’¬</span> 
      <span class="text">éšæƒ³</span>
    </a>
    <a href="/blog/study" class={`menu-item ${isActive("/blog/study") ? "active" : ""}`}>
      <span class="icon">âœ</span> 
      <span class="text">å­¦ä¹ </span>
    </a>
    <a href="/blog/creation" class={`menu-item ${isActive("/blog/creation") ? "active" : ""}`}>
      <span class="icon">ğŸ¨</span> 
      <span class="text">åˆ›ä½œ
      </span>
    </a>
    <a href="/blog/diary" class={`menu-item ${isActive("/blog/diary") ? "active" : ""}`}>
      <span class="icon">ğŸ““</span> 
      <span class="text">æ—¥è®°
      </span>
    </a>
  </div>


</div>

<style>
  /* å®¹å™¨å¸ƒå±€ */
  .sidebar-container {
     font-size: 1.1rem;
    padding: 1.2rem;
    display: flex;
    flex-direction: column;
    gap: 1rem; /* å¡ç‰‡ä¹‹é—´çš„é—´è· */
    height: 100%;
    min-height: 0;
    box-sizing: border-box;
  }

  /* --- æ ¸å¿ƒæ ·å¼ï¼šæ¯›ç»ç’ƒå¡ç‰‡ --- */
  .glass-card {
    /* åŠé€æ˜ç™½è‰²èƒŒæ™¯ */
    background: rgba(255, 255, 255, 0.4); 
    /* æ ¸å¿ƒï¼šèƒŒæ™¯æ¨¡ç³Šæ•ˆæœ */
    backdrop-filter: blur(12px); 
    -webkit-backdrop-filter: blur(12px); /* å…¼å®¹ Safari */
    
    border-radius: 16px; /* åœ†è§’ */
    border: 1px solid rgba(255, 255, 255, 0.3); /* å¾®å¾®å‘å…‰çš„è¾¹æ¡† */
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1); /* æŸ”å’Œé˜´å½± */
    padding: 0.7rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: transform 0.3s ease;
  }



  /* --- ä¸ªäººèµ„æ–™æ ·å¼ --- */
  .avatar {
    width: 100px;
    height: 100px;
    border-radius: 50%; /* åœ†å½¢å¤´åƒ */
    object-fit: cover;
    border: 3px solid rgba(255, 255, 255, 0.8);
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);   
    margin-top: 0.5rem;
  }
  .avatar-wrapper { margin-top: 0.5rem; }

  .name {
    margin-top: 0.5rem;
    font-size: 1.25rem;
    font-weight: bold;
    color: #333;
    margin-bottom: 0.2rem;
  }

  .bio {
    font-size: 0.85rem;
    color: #666;
    margin-bottom: 0.2rem;
    text-align: center;
  }



  .stat-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    cursor: pointer;
  }
  
  .stat-item .count { font-weight: bold; color: #2a82f0; }
  .stat-item .label { font-size: 0.75rem; color: #888; }

  /* --- èœå•æ ·å¼ --- */
  .menu {
    align-items: stretch; /* è®©å­å…ƒç´ å æ»¡å®½åº¦ */
    padding: 1rem;
    flex: 1;
    overflow: auto;
  }

  .menu::-webkit-scrollbar {
    display: none;
  }

  .menu {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .menu-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 6px 8px;
    margin-bottom: 8px;
    text-decoration: none;
    color: #555;
    border-radius: 12px;
    transition: all 0.2s;
    font-weight: 500;
  }

  .menu-item:hover {
    background: rgba(255, 255, 255, 0.6);
    color: #2a82f0;
  }

  /* æ¿€æ´»çŠ¶æ€ï¼ˆè“è‰²èƒŒæ™¯ï¼‰ */
  .menu-item.active {
    background: #2a82f0;
    color: white;
    box-shadow: 0 4px 10px rgba(42, 130, 240, 0.3);
  }

  /* --- åº•éƒ¨å›¾æ ‡æ  --- */
  .footer-actions {
    flex-direction: row;
    justify-content: space-around;
    padding: 1rem;
    margin-top: auto; /* æ¨åˆ°åº•éƒ¨ */
  }
  
  .icon-btn {
    text-decoration: none;
    font-size: 1.2rem;
    opacity: 0.7;
    transition: 0.2s;
  }
  
  .icon-btn:hover { opacity: 1; transform: scale(1.1); }

</style>
